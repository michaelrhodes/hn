<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"> <title>Hacker News</title> <style> main { -webkit-text-size-adjust: none; display: block; font: 400 12px/1.425 Verdana, 'DejaVu Sans', 'Bitstream Vera Sans', sans-serif; margin: 0 auto; max-width: 640px; padding: 2em 1em 2.25em; transition: opacity 350ms ease; } main[data-is-loading] { opacity: 0.25; } h1 { margin-bottom: 2em; } h2 { font-size: 1.25em; margin-bottom: 0.25em; } a:visited, a[href^="#"] { color: blue; } .items { counter-reset: item 0; list-style: none; padding: 0; } .items > li { position: relative; } .items > li:before { color: #444; content: counter(item); counter-increment: item; font-size: 0.875em; font-weight: normal; right: 100%; line-height: 1; margin-right: 1.125em; position: absolute; top: 5px; } .next { display: inline-block; margin-top: 1.25em; } .item h1 { margin-bottom: 0.25em; } .item > .comments { margin-top: 1.5em; } .comments { list-style: none; margin: 0; padding: 0; } .replies { padding-left: 1em; } .comment { border-top: 1px solid #ddd; padding-top: 1em; } .comment + .comment, .comment > .replies { margin-top: 1em; } .comment p { margin: 0; } .comment p + p { margin-top: 0.75em; } .comment a { word-break: break-all; } .comment pre { -webkit-overflow-scrolling: touch; overflow: auto; } .comment code { font: 400 11px/1.3 Menlo, 'Deja Vu Sans Mono', monospace; } .comment > .meta { color: #888; margin: 0 0 0.5em; } .replies-toggle { -webkit-appearance: none; background-color: #f0f0f0; border: none; border-radius: 0; color: #888; cursor: pointer; display: none; font: inherit; height: auto; margin: 0.75em 0 0; padding: 3px 8px; width: auto; } .replies-toggle[data-count] { display: inline-block; } .replies-toggle[data-count]:before { content: attr(data-count); } .replies-toggle[data-count]:after { content: ' replies'; } .replies-toggle + .replies, .replies-toggle:checked + .replies .replies-toggle { display: none; } .replies-toggle:checked + .replies, .replies-toggle:checked + .replies .replies { display: block; } @media (max-width: 768px) { main { padding-top: 1em; } h1 { margin-bottom: 1.5em; } .items > li:before { content: none; } }
</style> </head><body> <script>!function(){var e="https://api.hnpwa.com/v0",t={};function n(n,r,o){if(t[n+r])return setTimeout(o,0,null,t[n+r]);var i=new XMLHttpRequest;i.open("GET",e+"/"+n+"/"+r+".json"),i.onload=function(){return o(null,t[n+r]=function(e,t){try{t=JSON.parse(e)}catch(n){t=null}return t}(i.responseText))},i.onerror=o,i.send()}var r=function(e,t){return n("news",e,t)},o=function(e,t){return n("item",e,t)},i=function(e,t,n){return(t=this.document.createElement("template")).innerHTML=(e||"").trim(),(1===(n=t.content).childNodes.length?n.childNodes[0]:n).cloneNode(!0)};function u(e){var t=this;return t.b$.forEach(function(n){return t[n]=e&&null!=e[n]?e[n]:null}),t}function l(e,t){return this.el["e$"+e]=!t&&this.el["e$"+e]||this.el.querySelector(e)}function a(e,t,n){(t=e.currentTarget.s$)&&(n=this["l$"+t+e.type])&&n.call(this,e)}function c(){return this.el.outerHTML}var s,m=function(e,t){function n(t,n){var r=this;t&&t.cloneNode||(n=t,t=e.cloneNode(!0)),Object.defineProperty(r,"el",{value:t}),r.b$.forEach(function(e){var t;Object.defineProperty(r,e,{get:function(e){return t},set:function(n){t!==n&&this["b$"+e](t=n)},enumerable:!0})}),r.set(n)}return function(e,t){t.set=u,t.get=l,t.handleEvent=a,t.toString=c,t.b$=Object.keys(e).filter(function(n){return t["b$"+n]=e[n]})}(t,n.prototype),function(e,t){return new n(e,t)}},f=function(e,t){e.p$||(e.p$=e.ownerDocument.createTextNode("")),null!=t&&e.p$.parentNode?(e.p$.parentNode.insertBefore(e,e.p$),e.p$.parentNode.removeChild(e.p$)):null==t&&e.parentNode&&(e.parentNode.insertBefore(e.p$,e),e.parentNode.removeChild(e))};function p(e,t,n){if(e.innerHTML="",f(e,t),Array.isArray(t)){var r=n.createDocumentFragment();t.forEach(function(e){return r.appendChild(d(e,n))}),e.appendChild(r)}else t&&e.appendChild(d(t,n))}function d(e,t){return e&&e.el||e.nodeName&&e||t.createTextNode(e)}(s=function(e,t){return"string"!=typeof e&&(t=e,e=null),function(n){var r=e?this.get(e):this.el;p(r,t&&null!=n?t(n):n,r.ownerDocument)}}).c=p;var h=function(e,t){return"function"!=typeof e&&(t=e,e=null),function(n,r){r=e&&null!=n?e(n):n;for(var o=0;o<t.length;o++)t[o].call(this,r)}},g=function(e,t){return"string"!=typeof e&&(t=e,e=null),function(n){var r=e?this.get(e):this.el,o=t&&null!=n?t(n):n;r.textContent=o,f(r,o)}},v=function(e,t,n){return"string"!=typeof t&&(n=t,t=e,e=null),function(r){var o=e?this.get(e):this.el,i=n&&null!=r?n(r):r;i?o.setAttribute(t,!0===i?"":i):o.removeAttribute(t)}},$=s,b=function(e,t){return"string"!=typeof e&&(t=e,e=null),function(n){var r=e?this.get(e):this.el,o=t&&null!=n?t(n):n;f(r,o)}},N=function(e,t){return"string"!=typeof e&&(t=e,e=null),function(n){var r=e?this.get(e):this.el;!function(e,t,n){e.pb$||(e.pb$=n.createTextNode("")),e.pa$||(e.pa$=n.createTextNode("")),e.parentNode&&(e.parentNode.insertBefore(e.pa$,e),e.parentNode.insertBefore(e.pb$,e.pa$),e.parentNode.removeChild(e)),e.pb$.parentNode&&function(t){for(;(t=e.pb$.nextSibling)!==e.pa$;)e.pb$.parentNode.removeChild(t)}(),null!=t&&e.pa$.parentNode&&function(r,o){for(o=n.createDocumentFragment(),s.c(e,t,n);r<e.childNodes.length;)o.appendChild(e.childNodes[r++]);e.pa$.parentNode.insertBefore(o,e.pa$)}(0)}(r,t&&null!=n?t(n):n,r.ownerDocument)}},y=function(e){return new Date(1e3*e)},w=/^item\?id=([0-9]+)$/,S=function(e){return w.test(e)?"#/item/"+e.match(w)[1]:e},T={},x=i('<li class="comment"><p class="meta"><embed class="user"> <time></time></p><div class="content"></div><input class="replies-toggle" type="checkbox"><ul class="replies comments"></ul></li>');T=m(x,{user:N(".user"),content:$(".content",i),time_ago:g(".meta time"),time:h(y,[v(".meta time","datetime",function(e){return e.toISOString()}),v(".meta time","title",function(e){return e.toLocaleString()})]),comments_count:h(function(e){return e||null},[v(".replies-toggle","checked",function(e){return!1}),v(".replies-toggle","data-count"),b(".replies-toggle")]),comments:$(".replies",function(e){return e.length?e.map(T):null})});var C=i('<article class="item"><a rel="noopener noreferrer" target="_blank"><h1></h1><embed class="domain"></a><embed class="content"><p class="meta">submitted by <embed class="user"> <time></time></p><ul class="comments"></ul></article>'),O=m(C,{title:g("h1"),url:v("a","href",S),content:N(".content",i),domain:N(".domain"),user:N(".user"),time_ago:g(".meta time"),time:h(y,[v(".meta time","datetime",function(e){return e.toISOString()}),v(".meta time","title",function(e){return e.toLocaleString()})]),comments:$(".comments",function(e){return e.length?e.map(T):null})})(C),L=function(e,t){var n=[],r=0;return o(t=t||0),function(e,u){return e?(u=Math.max(0,e.length-t),t+=u,o(u),e.map(i)):(n=[],r=0,void(t=0))};function o(t){for(;t--;)n[n.length]=e()}function i(e){return r=Math.min(++r,t)%t,n[r].set(e)}}(m(i('<li><a rel="noopener noreferrer"><h2></h2></a><a class="comments"></a> by <embed class="user"> <time></time></li>'),{id:v(".comments","href",function(e){return"#/item/"+e}),title:g("h2"),url:h(S,[v("a","target",function(e){return"#"!==e[0]&&"_blank"}),v("a","href")]),user:N(".user"),time_ago:g("time"),time:h(y,[v("time","datetime",function(e){return e.toISOString()}),v("time","title",function(e){return e.toLocaleString()})]),comments_count:g(".comments",function(e){return e+" comment"+(1===e?"":"s")})}),30),_=i('<section><h1></h1><ol class="items"></ol><a class="next"></a></section>'),k=m(_,{page:h([g("h1",function(e){return e>1?null:"Hacker News"}),v(".items","style",function(e){return"counter-reset: item "+30*(e-1)}),g("a",function(e){return"Page "+(e+1)}),v("a","href",function(e){return"#/page/"+(e+1)})]),items:$(".items",L)})(_),D=i("<main>"),E=m(D,{loading:v("data-is-loading"),view:$()})(D),M=0;(onscroll=function(){E.view===k&&(M=pageYOffset)})(),(onhashchange=function(){var e=location.hash.substr(2).split("/"),t=e[0]||"page",n=e[1]||1;E.loading=!0,"page"===t?r(n,function(e,t){if(e)return alert(e);var r=E.view===k;k.page=+n,k.items=t,E.view=k,E.loading=!1,scrollTo(0,r?0:M)}):"item"===t?o(n,function(e,t){if(e)return alert(e);E.view=O.set(t),E.loading=!1,scrollTo(0,0)}):(E.view=null,E.loading=!1)})(),history.scrollRestoration="manual",document.body.appendChild(E.el)}();</script> </body></html>