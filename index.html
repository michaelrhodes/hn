<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"> <title>Hacker News</title> <style> main { -webkit-text-size-adjust: none; display: block; font: 400 12px/1.425 Verdana, 'DejaVu Sans', 'Bitstream Vera Sans', sans-serif; margin: 0 auto; max-width: 640px; padding: 2em 1em 2.25em; transition: opacity 350ms ease; word-wrap: break-word; } main[data-is-loading] { opacity: 0.25; } h1 { margin-bottom: 2em; } h2 { font-size: 1.25em; margin-bottom: 0.25em; } a:visited, a[href^="#"] { color: blue; } .items { counter-reset: item 0; list-style: none; padding: 0; } .items > li { position: relative; } .items > li:before { color: #444; content: counter(item); counter-increment: item; font-size: 0.875em; font-weight: normal; right: 100%; line-height: 1; margin-right: 1.125em; position: absolute; top: 5px; } .next { display: inline-block; margin-top: 1.25em; } .item h1 { margin-bottom: 0.25em; } .item > .comments { margin-top: 1.5em; } .comments { list-style: none; margin: 0; padding: 0; } .replies { padding-left: 1em; } .comment { border-top: 1px solid #ddd; padding-top: 1em; } .comment + .comment, .comment > .replies { margin-top: 1em; } .comment p { margin: 0; } .comment p + p { margin-top: 0.75em; } .comment a { word-break: break-all; } .comment pre { -webkit-overflow-scrolling: touch; overflow: auto; } .comment code { font: 400 11px/1.3 Menlo, 'Deja Vu Sans Mono', monospace; } .comment > .meta { color: #888; margin: 0 0 0.5em; } .replies-toggle { -webkit-appearance: none; background-color: #f0f0f0; border: none; border-radius: 0; color: #888; cursor: pointer; display: none; font: inherit; height: auto; margin: 0.75em 0 0; padding: 3px 8px; width: auto; } .replies-toggle[data-count] { display: inline-block; } .replies-toggle[data-count]:before { content: attr(data-count); } .replies-toggle[data-count]:after { content: ' replies'; } .replies-toggle + .replies, .replies-toggle:checked + .replies .replies-toggle { display: none; } .replies-toggle:checked + .replies, .replies-toggle:checked + .replies .replies { display: block; } @media (max-width: 768px) { main { padding-top: 1em; } h1 { margin-bottom: 1.5em; } .items > li:before { content: none; } }
</style> </head><body> <script>!function(){var e="https://api.hnpwa.com/v0",t={};function n(n,r,i){if(t[n+r])return setTimeout(i,0,null,t[n+r]);var o=new XMLHttpRequest;o.open("GET",e+"/"+n+"/"+r+".json"),o.onload=function(){return i(null,t[n+r]=function(e,t){try{t=JSON.parse(e)}catch(n){t=null}return t}(o.responseText))},o.onerror=i,o.send()}var r=function(e,t){return n("news",e,t)},i=function(e,t){return n("item",e,t)},o=function(e){var t=this.document.createElement("template"),n=(t.innerHTML=(e||"").trim(),t.content);return(1===n.childNodes.length?n.childNodes[0]:n).cloneNode(!0)};function u(e){var t=this;return this.b$.forEach(function(n){return t[n]=e&&null!=e[n]?e[n]:null}),this}function l(e,t){return this.el["e$"+e]=!t&&this.el["e$"+e]||this.el.querySelector(e)}function a(){return this.el.outerHTML}var c=function(e,t){return function(e,t){t.toString=a,t.set=u,t.get=l,t.b$=Object.keys(e).filter(function(n){return t["b$"+n]=e[n]})}(t||e,n.prototype),function(e,t){return new n(e,t)};function n(t,n){var r=this;t&&t.cloneNode||(n=t,t=e.cloneNode(!0)),Object.defineProperty(this,"el",{value:t}),this.b$.forEach(function(e){var t;Object.defineProperty(r,e,{get:function(e){return t},set:function(n){return t!==n&&r["b$"+e](t=n)},enumerable:!0})}),this.set(n)}},s=function(e,t){e.p$||(e.p$=e.ownerDocument.createTextNode("")),null!=t&&e.p$.parentNode?(e.p$.parentNode.insertBefore(e,e.p$),e.p$.parentNode.removeChild(e.p$)):null==t&&e.parentNode&&(e.parentNode.insertBefore(e.p$,e),e.parentNode.removeChild(e))},f=function(e,t,n){if(e.innerHTML="",s(e,t),Array.isArray(t)){var r=n.createDocumentFragment();t.forEach(function(e){return r.appendChild(m(e,n))}),e.appendChild(r)}else t&&e.appendChild(m(t,n))};function m(e,t){return e&&e.el||e.nodeName&&e||t.createTextNode(e)}var p=function(e,t){return"function"!=typeof e&&(t=e,e=null),function(n,r){r=e&&null!=n?e(n):n;for(var i=0;i<t.length;i++)t[i].call(this,r)}},h=function(e,t){return"string"!=typeof e&&(t=e,e=null),function(n){var r=e?this.get(e):this.el,i=t&&null!=n?t(n):n;r.innerHTML=i,s(r,i)}},d=function(e,t){return"string"!=typeof e&&(t=e,e=null),function(n){var r=e?this.get(e):this.el,i=t&&null!=n?t(n):n;r.textContent=i,s(r,i)}},g=function(e,t,n){return"string"!=typeof t&&(n=t,t=e,e=null),function(r){var i=e?this.get(e):this.el,o=n&&null!=r?n(r):r;o?i.setAttribute(t,!0===o?"":o):i.removeAttribute(t)}},v=function(e,t){return"string"!=typeof e&&(t=e,e=null),function(n){var r=e?this.get(e):this.el,i=t&&null!=n?t(n):n,o=r.ownerDocument;f(r,i,o)}},b=function(e,t){return"string"!=typeof e&&(t=e,e=null),function(n){var r=e?this.get(e):this.el,i=t&&null!=n?t(n):n;s(r,i)}},$=function(e,t){return"string"!=typeof e&&(t=e,e=null),function(n){var r=e?this.get(e):this.el;!function(e,t,n){e.pb$||(e.pb$=n.createTextNode("")),e.pa$||(e.pa$=n.createTextNode("")),e.parentNode&&(e.parentNode.insertBefore(e.pa$,e),e.parentNode.insertBefore(e.pb$,e.pa$),e.parentNode.removeChild(e)),e.pb$.parentNode&&function(t){for(;(t=e.pb$.nextSibling)!==e.pa$;)e.pb$.parentNode.removeChild(t)}(),null!=t&&e.pa$.parentNode&&function(r){for(f(e,t,n),r=n.createDocumentFragment();e.childNodes.length;)r.appendChild(e.childNodes[0]);e.pa$.parentNode.insertBefore(r,e.pa$)}()}(r,t&&null!=n?t(n):n,r.ownerDocument)}},N=function(e){return new Date(1e3*e)},y=/^item\?id=([0-9]+)$/,w=function(e){return y.test(e)?"#/item/"+e.match(y)[1]:e},S={},T=o('<li class="comment"><p class="meta"><embed class="user"> <time></time></p><div class="content"></div><input class="replies-toggle" type="checkbox"><ul class="replies comments"></ul></li>');S=c(T,{user:$(".user"),content:v(".content",o),time_ago:d(".meta time"),time:p(N,[g(".meta time","datetime",function(e){return e.toISOString()}),g(".meta time","title",function(e){return e.toLocaleString()})]),comments_count:p(function(e){return e||null},[g(".replies-toggle","checked",function(e){return!1}),g(".replies-toggle","data-count"),b(".replies-toggle")]),comments:v(".replies",function(e){return e.length?e.map(S):null})});var x=o('<article class="item"><h1><a rel="noopener noreferrer" target="_blank"></a></h1><a rel="noopener noreferrer" target="_blank"></a><embed class="content"><p class="meta">submitted by <embed class="user"> <time></time></p><ul class="comments"></ul></article>'),C=c({url:p(w,[g("h1 > a","href"),g("article > a","href")]),title:h("h1 > a"),domain:d("article > a"),content:$(".content",o),user:$(".user"),time_ago:d(".meta time"),time:p(N,[g(".meta time","datetime",function(e){return e.toISOString()}),g(".meta time","title",function(e){return e.toLocaleString()})]),comments:v(".comments",function(e){return e.length?e.map(S):null})})(x),L=function(e,t){var n=[],r=0;return i(t=t||0),function(e,u){return e?(u=Math.max(0,e.length-t),t+=u,i(u),e.map(o)):(n=[],r=0,void(t=0))};function i(t){for(;t--;)n[n.length]=e()}function o(e){return r=Math.min(++r,t)%t,n[r].set(e)}}(c(o('<li><h2><a rel="noopener noreferrer"></a></h2><a></a> by <embed class="user"> <time></time></li>'),{id:g("li > a","href",function(e){return"#/item/"+e}),title:h("h2 > a"),url:p(w,[g("h2 > a","target",function(e){return"#"!==e[0]&&"_blank"}),g("h2 > a","href")]),user:$(".user"),time_ago:d("time"),time:p(N,[g("time","datetime",function(e){return e.toISOString()}),g("time","title",function(e){return e.toLocaleString()})]),comments_count:d("li > a",function(e){return e+" comment"+(1===e?"":"s")})}),30),O=o('<section><h1></h1><ol class="items"></ol><a class="next"></a></section>'),_=c({page:p([d("h1",function(e){return e>1?null:"Hacker News"}),g(".items","style",function(e){return"counter-reset: item "+30*(e-1)}),d("a",function(e){return"Page "+(e+1)}),g("a","href",function(e){return"#/page/"+(e+1)})]),items:v(".items",L)})(O),k=o("<main>"),M=c({loading:g("data-is-loading"),view:v()})(k),D=0;(onscroll=function(){M.view===_&&(D=pageYOffset)})(),(onhashchange=function(){var e=location.hash.substr(2).split("/"),t=e[0]||"page",n=e[1]||1;M.loading=!0,"page"===t?r(n,function(e,t){if(e)return alert(e);var r=M.view===_;_.page=+n,_.items=t,M.view=_,M.loading=!1,scrollTo(0,r?0:D)}):"item"===t?i(n,function(e,t){if(e)return alert(e);M.view=C.set(t),M.loading=!1,scrollTo(0,0)}):(M.view=null,M.loading=!1)})(),history.scrollRestoration="manual",document.body.appendChild(M.el)}();</script> </body></html>